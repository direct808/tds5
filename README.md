# üìä TDS5 - —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞—Ñ–∏–∫–æ–º –∏ —Å–±–æ—Ä–æ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

–≠—Ç–æ pet-–ø—Ä–æ–µ–∫—Ç, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π backend-—Å–∏—Å—Ç–µ–º—É –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞—Ñ–∏–∫–æ–º, —Å–±–æ—Ä–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≥–∏–±–∫–∏—Ö –ø—Ä–∞–≤–∏–ª –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏. –ü—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –Ω–∞ **NestJS** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **PostgreSQL** –∏ **TypeORM**. –û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å ‚Äî –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–≤—ã–∫–∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ–≥–æ, –º–æ–¥—É–ª—å–Ω–æ–≥–æ –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è —Å –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ **—á–∏—Å—Ç—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É**, **SOLID-–ø—Ä–∏–Ω—Ü–∏–ø—ã** –∏ **–ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**.

## –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

- **Node.js** / **TypeScript**
- **NestJS** ‚Äî –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã–π backend-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **TypeORM** ‚Äî ORM –¥–ª—è PostgreSQL
- **PostgreSQL** ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –°–£–ë–î
- **Docker / Docker Compose** ‚Äî –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
- **Jest** ‚Äî –¥–ª—è unit –∏ –µ2–µ —Ç–µ—Å—Ç–æ–≤

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –ø–æ–¥—Ö–æ–¥—ã

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω —Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ —á–∏—Å—Ç—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:

- **SOLID**:

    - –ö–∞–∂–¥—ã–π –∫–ª–∞—Å—Å –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ–¥–Ω—É –∑–æ–Ω—É –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
    - –õ–æ–≥–∏–∫–∞ —Ä–∞—Å—à–∏—Ä—è–µ–º–∞ —á–µ—Ä–µ–∑ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
    - –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤–Ω–µ–¥—Ä—è—é—Ç—Å—è —á–µ—Ä–µ–∑ DI

- **–ü—Ä–∏–º–µ–Ω—è–µ–º—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã**:

    - **Repository Pattern** ‚Äî –∏–∑–æ–ª—è—Ü–∏—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –æ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º
    - **Service Layer** ‚Äî –ª–æ–≥–∏–∫–∞ –≤—ã–Ω–µ—Å–µ–Ω–∞ –∏–∑ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤
    - **Factory** ‚Äî –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤
    - **Strategy** ‚Äî –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–∏–∑–Ω–µ—Å –ª–æ–≥–∏–∫–∏

- **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å**:

    - –ö–∞–∂–¥—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –±–ª–æ–∫ ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π Nest-–º–æ–¥—É–ª—å
    - –õ–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –∏ –∑–∞–º–µ–Ω—è—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

## –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

- –°–æ–∑–¥–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞–º–ø–∞–Ω–∏–π
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–∞–º–∏ (flows)
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É—Å–ª–æ–≤–∏–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≥–µ–æ, —É—Å—Ç—Ä–æ–π—Å—Ç–≤, IP –∏ –¥—Ä—É–≥–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ—Ñ–µ—Ä–æ–≤ –∏ —Å–ø–ª–∏—Ç-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ü–æ–¥—Å—á—ë—Ç –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –≤–∏–∑–∏—Ç–∞–º/–∫–ª–∏–∫–∞–º
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ —á–µ—Ä–µ–∑ –ø–æ—Å—Ç–±—ç–∫–∏

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

* Unit-—Ç–µ—Å—Ç—ã –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤
* e2e-—Ç–µ—Å—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–∏–∑–Ω–µ—Å –ª–æ–≥–∏–∫–∏
* –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é Jest
* –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ <a href="https://testcontainers.com/" target="blank">testcontainers</a> –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è e2e —Ç–µ—Å—Ç–æ–≤


---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
git clone https://github.com/direct808/tds5.git
cd tds5
cp .env.example .env

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
yarn install

# –ó–∞–ø—É—Å–∫ –æ–∫—Ä—É–∂–µ–Ω–∏—è
docker-compose up 

# –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞
yarn run start:dev
```

## –ü–æ—á–µ–º—É —ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –≤–∞–∂–µ–Ω

* –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–æ—ë –ø–æ–Ω–∏–º–∞–Ω–∏–µ backend-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ –º–æ–¥—É–ª—å–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞
* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–∞–ª—å–Ω—ã–π –∫–µ–π—Å —Å –Ω–µ—Ç—Ä–∏–≤–∏–∞–ª—å–Ω–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π
* –û—Å–Ω–æ–≤–∞–Ω –Ω–∞ production-–ø–æ–¥—Ö–æ–¥–∞—Ö, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å –≤ —Ä–µ–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ


## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
src/
‚îú‚îÄ‚îÄ affiliate-network/  # –ü–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∏–µ —Å–µ—Ç–∏
‚îú‚îÄ‚îÄ auth/               # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îú‚îÄ‚îÄ campaign/           # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–º–ø–∞–Ω–∏—è–º–∏
‚îú‚îÄ‚îÄ config]/            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ offer/              # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ñ–µ—Ä–∞–º–∏
‚îú‚îÄ‚îÄ source/             # –ò—Å—Ç–æ—á–Ω–∏–∫–∏ —Ç—Ä–∞—Ñ—Ñ–∏–∫–∞
‚îú‚îÄ‚îÄ user/               # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
‚îú‚îÄ‚îÄ utils -             # –æ–±—â–∏–π –º–æ–¥—É–ª—å
‚îú‚îÄ‚îÄ main.ts             # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ app.module.ts       # –ö–æ—Ä–Ω–µ–≤–æ–π –º–æ–¥—É–ª—å
test                    # e2e —Ç–µ—Å—Ç—ã
```

## üì¨ –°–≤—è–∑—å

* Telegram: [@direct808](https://t.me/direct808)
* Email: [direct808@yandex.ru](mailto:direct808@yandex.ru)
